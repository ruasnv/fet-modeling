global_settings:
  matplotlib_style: 'default'
  figure_figsize: [10, 8]
  font_size: 8
  axes_labelsize: 10
  axes_titlesize: 12
  legend_fontsize: 8
  ignore_warnings: True
  debug_mode: True #SET TO TRUE TO ENABLE VERBOSE DEBUG PRINTS

paths:
  raw_data_path: 'data/nmoshv.csv'
  processed_data_dir: 'data/processed'
  trained_model_dir: 'models/trained'
  report_output_dir: 'results/reports'
  eda_output_dir: 'results/eda'
  plots_output_dir: 'results/plots'

filtering:
  id_greater_than_zero: True # Filter out data points where 'id' <= 0
  vds_greater_than_zero: True # Filter out data points where 'vd' <= 0
  temperature_filter: 27 # Specific temperature (in Celsius) to filter for. Set to null or remove for all temps.

# Feature engineering parameters
feature_engineering:
  input_features: ['vg', 'vd', 'vb', 'w', 'l', 'wOverL'] # Base features to be used as model inputs
  target_feature: 'log_Id' # Name of the target feature after transformation

# Normalization and Transformation settings
normalization:
  method: "StandardScaler" # Scaling method for features and target (e.g., StandardScaler)
  log_transform_id: True # Apply log10 transformation to 'id' to create 'log_Id'

# Parameters for operating region classification and data splitting
region_classification:
  stratify_column: 'operating_region' # Column to use for stratified splitting
  method: "vth_based" # Method for classifying operating regions: 'vth_based'

  # Parameters for calculate_vth helper function (body effect formula)
  # These are placeholders; obtain precise values from IHP PDK or device characterization.
vth_params:
  vth0: 0.7 # Zero-bias threshold voltage (Vth at Vsb=0)
  gamma: 0.5 # Body effect coefficient
  phi_f: 0.4 # Fermi potential (often 2*phi_f is used in formula; verify your formula's 'phi_f' definition)

data_split:
  cv_final_test_split_ratio: 0.15 # Ratio of data to reserve for the final test set
  num_folds: 10 # Number of folds for K-fold cross-validation
  random_state: 42 # Seed for reproducibility of data splits

# SimpleNN model architecture parameters
model_params:
  input_dim: 6 # Number of input features (Vgs, Vds, Vbs, W, L). Update if adding W/L or other features.
  final_model_filename: 'final_simple_nn.pth'

# Training specific parameters for SimpleNN
training_params:
  num_epochs: 100
  batch_size: 64
  learning_rate: 0.001
  criterion: "MSELoss" # Loss function to use
  optimizer: "Adam" # Optimizer to use

# Flags to control training/plotting behavior for SimpleNN runs
run_flags:
  run_cross_validation: True # Whether to execute the cross-validation step
  skip_training_if_exists: True # If a model file exists, load it instead of retraining
  skip_plots_if_exists: True # If plot directory exists and is not empty, skip generating plots

# Configuration for specific characteristic plots (e.g., best/worst performing devices)
plot_cases:
  - device_size: [1.0, 0.5] # [Width, Length] in um. Represents a specific transistor.
    vbs_val: -1.0 # Back-gate voltage
    plot_type: "Id_Vgs_fixed_Vds" # Plot Id vs Vgs for fixed Vds values
    fixed_vds_vals: [0.1, 0.5, 1.0, 3.0] # Specific Vds values to plot
  - device_size: [5.0, 0.1]
    vbs_val: 0.0
    plot_type: "Id_Vds_fixed_Vgs" # Plot Id vs Vds for fixed Vgs values
    fixed_vgs_vals: [0.5, 1.0, 2.0, 3.0]
